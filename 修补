=== AIå“åº”å†…å®¹ ===
aiManager.js:45 ```json
{
  "narrative": "å†›å¸å†…çƒ›ç«æ‘‡æ›³ï¼Œå‘¨ç‘œå¬é—»è¯¸è‘›äº®ç«Ÿå¦‚æ­¤çˆ½å¿«åœ°åº”ä¸‹è¿™å‡ ä¹ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œçœ¼ä¸­é—ªè¿‡ä¸€ä¸è®¶å¼‚ä¸æ›´æ·±æ²‰çš„ç®—è®¡ã€‚ä»–æŒ¥æ‰‹ç¤ºæ„ä¾ä»å‘ˆä¸Šå†›ä»¤çŠ¶ï¼Œç¾Šçš®å·è½´åœ¨æ¡ˆå‡ ä¸Šç¼“ç¼“å±•å¼€ï¼Œå¢¨è¿¹æœªå¹²çš„å­—è¿¹åœ¨ç«å…‰ä¸‹æ˜¾å¾—æ ¼å¤–åˆºç›®ã€‚å¸å¤–åŒ—é£å‘¼å•¸ï¼Œä»¿ä½›é¢„ç¤ºç€è¿™åœºèµŒå±€èƒŒåçš„å‡¶é™©ã€‚",
  "npc_dialogue": {
    "speaker": "å‘¨ç‘œ",
    "content": "ï¼ˆå†·ç¬‘æç¬”ï¼‰å¥½ï¼å…ˆç”Ÿæœç„¶ç—›å¿«ã€‚è¿™å†›ä»¤çŠ¶ä¸Šè‹¥æ·»äº†å¢¨å®ï¼Œå¯å°±æ²¡æœ‰è½¬åœœä½™åœ°äº†â€”â€”ä¸‰æ—¥ä¹‹åè‹¥æ— åä¸‡ç®­ï¼Œè«æ€ªå†›æ³•æ— æƒ…ã€‚"
  },
  "value_changes": {
    "å‘¨ç‘œ": {
      "çŒœå¿Œå€¼": "+10"
    }
  },
  "special_progress": {
    "preparationProgress": "+20"
  },
  "event_suggestion": {
    "should_trigger": true,
    "event_id": "dialogue_event2",
    "reason": "ç©å®¶å·²æ˜ç¡®æ¥å—æŒ‘æˆ˜å¹¶è¡¨æ€ç«‹å†›ä»¤çŠ¶"
  },
  "item_grant": {
    "should_grant": true,
    "item_id": "militaryOrder",
    "condition_met": "å®Œæˆç«‹ä¸‹å†›ä»¤äº‹ä»¶"
  }
}
```
aiManager.js:136 
=== AIå“åº”è§£ææˆåŠŸ ===
aiManager.js:140 äº‹ä»¶è§£æç»“æœ: {should_trigger: true, event_id: 'dialogue_event2', reason: 'ç©å®¶å·²æ˜ç¡®æ¥å—æŒ‘æˆ˜å¹¶è¡¨æ€ç«‹å†›ä»¤çŠ¶'}
aiManager.js:147 é“å…·è§£æç»“æœ: {should_grant: true, item_id: 'militaryOrder', condition_met: 'å®Œæˆç«‹ä¸‹å†›ä»¤äº‹ä»¶'}
aiManager.js:152 è§£æå®Œæˆ: æ‰€æœ‰å­—æ®µå·²æˆåŠŸæå–
aiManager.js:50 
=== è§£æåç»“æœ ===
aiManager.js:51 å™è¿°å†…å®¹: å†›å¸å†…çƒ›ç«æ‘‡æ›³ï¼Œå‘¨ç‘œå¬é—»è¯¸è‘›äº®ç«Ÿå¦‚æ­¤çˆ½å¿«åœ°åº”ä¸‹è¿™å‡ ä¹ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œçœ¼ä¸­é—ªè¿‡ä¸€ä¸è®¶å¼‚ä¸æ›´æ·±æ²‰çš„ç®—è®¡ã€‚ä»–æŒ¥æ‰‹ç¤ºæ„ä¾ä»å‘ˆä¸Šå†›ä»¤çŠ¶ï¼Œç¾Šçš®å·è½´åœ¨æ¡ˆå‡ ä¸Šç¼“ç¼“å±•å¼€ï¼Œå¢¨è¿¹æœªå¹²çš„å­—è¿¹åœ¨ç«å…‰ä¸‹æ˜¾å¾—æ ¼å¤–åˆºç›®ã€‚å¸å¤–åŒ—é£å‘¼å•¸ï¼Œä»¿ä½›é¢„ç¤ºç€è¿™åœºèµŒå±€èƒŒåçš„å‡¶é™©ã€‚
aiManager.js:52 NPCå¯¹è¯: {speaker: 'å‘¨ç‘œ', content: 'ï¼ˆå†·ç¬‘æç¬”ï¼‰å¥½ï¼å…ˆç”Ÿæœç„¶ç—›å¿«ã€‚è¿™å†›ä»¤çŠ¶ä¸Šè‹¥æ·»äº†å¢¨å®ï¼Œå¯å°±æ²¡æœ‰è½¬åœœä½™åœ°äº†â€”â€”ä¸‰æ—¥ä¹‹åè‹¥æ— åä¸‡ç®­ï¼Œè«æ€ªå†›æ³•æ— æƒ…ã€‚'}
aiManager.js:53 æ•°å€¼å˜åŒ–: {å‘¨ç‘œ: {â€¦}}
aiManager.js:54 äº‹ä»¶å»ºè®®: {should_trigger: true, event_id: 'dialogue_event2', reason: 'ç©å®¶å·²æ˜ç¡®æ¥å—æŒ‘æˆ˜å¹¶è¡¨æ€ç«‹å†›ä»¤çŠ¶'}
aiManager.js:55 é“å…·æˆäºˆ: {should_grant: true, item_id: 'militaryOrder', condition_met: 'å®Œæˆç«‹ä¸‹å†›ä»¤äº‹ä»¶'}
aiManager.js:56 ç‰¹æ®Šè¿›åº¦: {preparationProgress: '+20'}
gameEngine.js:486 
=== GameEngine å¤„ç†æ•°å€¼å˜åŒ– ===
gameEngine.js:487 AIå“åº”çš„value_changes: {å‘¨ç‘œ: {â€¦}}
stateManager.js:174 
=== StateManager åº”ç”¨æ•°å€¼å˜åŒ– ===
stateManager.js:175 è¾“å…¥çš„changes: {å‘¨ç‘œ: {â€¦}}
stateManager.js:176 å˜åŒ–å‰çŠ¶æ€: {
  "chapter": 1,
  "chapterName": "ä¸‰æ—¥ä¹‹çº¦",
  "timeProgress": 1,
  "zhouYu": {
    "suspicion": 50
  },
  "luSu": {
    "trust": 50
  },
  "items": {
    "kongMingFan": true,
    "xuanDeBrush": true
  },
  "hasXuanDeBrush": true,
  "hasDongwuTiger": false,
  "events": {
    "acceptChallenge": false,
    "signMilitaryOrder": false,
    "convinceLuSu": false,
    "borrowArrows": false
  },
  "triggeredEvents": [],
  "activeNPCs": [
    "zhouYu",
    "luSu"
  ]
}
stateManager.js:181 å¤„ç†å‘¨ç‘œæ•°å€¼å˜åŒ–: {çŒœå¿Œå€¼: '+10'}
stateManager.js:192 å‘¨ç‘œ.suspicion: 50 + null = 50
gameEngine.js:495 å‘¨ç‘œ.çŒœå¿Œå€¼: +10
gameEngine.js:517 
=== ç‰¹æ®Šè¿›åº¦å€¼å˜åŒ– ===
gameEngine.js:518 AIå“åº”çš„special_progress: {preparationProgress: '+20'}
stateManager.js:174 
=== StateManager åº”ç”¨æ•°å€¼å˜åŒ– ===
stateManager.js:175 è¾“å…¥çš„changes: {preparationProgress: '+20'}
stateManager.js:176 å˜åŒ–å‰çŠ¶æ€: {
  "chapter": 1,
  "chapterName": "ä¸‰æ—¥ä¹‹çº¦",
  "timeProgress": 1,
  "zhouYu": {
    "suspicion": 50
  },
  "luSu": {
    "trust": 50
  },
  "items": {
    "kongMingFan": true,
    "xuanDeBrush": true
  },
  "hasXuanDeBrush": true,
  "hasDongwuTiger": false,
  "events": {
    "acceptChallenge": false,
    "signMilitaryOrder": false,
    "convinceLuSu": false,
    "borrowArrows": false
  },
  "triggeredEvents": [],
  "activeNPCs": [
    "zhouYu",
    "luSu"
  ]
}
stateManager.js:255 å‡†å¤‡è¿›åº¦å˜åŒ–: +null -> 0
gameEngine.js:524 preparationProgress: +20
gameEngine.js:530 
=== AIå“åº”äº‹ä»¶å¤„ç† ===
gameEngine.js:531 AIå“åº”ä¸­çš„event_suggestion: {should_trigger: true, event_id: 'dialogue_event2', reason: 'ç©å®¶å·²æ˜ç¡®æ¥å—æŒ‘æˆ˜å¹¶è¡¨æ€ç«‹å†›ä»¤çŠ¶'}
gameEngine.js:540 æ£€æŸ¥äº‹ä»¶: dialogue_event2, è§¦å‘ç†ç”±: ç©å®¶å·²æ˜ç¡®æ¥å—æŒ‘æˆ˜å¹¶è¡¨æ€ç«‹å†›ä»¤çŠ¶
gameEngine.js:541 äº‹ä»¶å¤„ç†å™¨å­˜åœ¨: true
gameEngine.js:545 æ‰§è¡Œäº‹ä»¶å¤„ç†å™¨: dialogue_event2
stateManager.js:163 äº‹ä»¶å·²è§¦å‘: dialogue_event2
stateManager.js:164 å½“å‰å·²è§¦å‘äº‹ä»¶åˆ—è¡¨: ['dialogue_event2']
gameEngine.js:547 äº‹ä»¶å¤„ç†å™¨ç»“æœ: {trigger: true, id: 'dialogue_event2', title: 'ç«‹ä¸‹å†›ä»¤', type: 'dialogue_event', content: 'å…¬ç‘¾é—»è¨€ï¼Œä½¯ä½œæƒŠè¯§ï¼Œå®åˆ™å¿ƒä¸­çªƒå–œã€‚å³ä»¤å·¦å³å–å†›ä»¤çŠ¶æ¥ï¼Œç™½ç»¢é»‘å­—ï¼Œæ£®ç„¶å¯ç•ã€‚å…¶ä¸Šå†™æ˜ï¼šé™ä¸‰æ—¥å†…äº¤ç®­åä¸‡ï¼Œå¦‚è¿æœŸé™ï¼Œç”˜å½“å†›æ³•ã€‚ä½ æç¬”æ¿¡å¢¨ï¼Œä»å®¹ä¹¦åï¼Œå°ä¸Šæœ±æ³¥ã€‚å…¬ç‘¾æ”¶èµ·å†›ä»¤ï¼Œä¸ä½ çº¦å®šä¸‰æ—¥ä¸ºæœŸã€‚'}
gameEngine.js:550 AIäº‹ä»¶è§¦å‘: dialogue_event2 - ç«‹ä¸‹å†›ä»¤
gameEngine.js:570 
=== é“å…·æˆäºˆ ===
gameEngine.js:571 AIå“åº”çš„item_grant: {should_grant: true, item_id: 'militaryOrder', condition_met: 'å®Œæˆç«‹ä¸‹å†›ä»¤äº‹ä»¶'}
gameEngine.js:577 è·å¾—é“å…·: militaryOrder, æ¡ä»¶: å®Œæˆç«‹ä¸‹å†›ä»¤äº‹ä»¶
stateManager.js:174 
=== StateManager åº”ç”¨æ•°å€¼å˜åŒ– ===
stateManager.js:175 è¾“å…¥çš„changes: {items: {â€¦}}
stateManager.js:176 å˜åŒ–å‰çŠ¶æ€: {
  "chapter": 1,
  "chapterName": "ä¸‰æ—¥ä¹‹çº¦",
  "timeProgress": 1,
  "zhouYu": {
    "suspicion": 50
  },
  "luSu": {
    "trust": 50
  },
  "items": {
    "kongMingFan": true,
    "xuanDeBrush": true
  },
  "hasXuanDeBrush": true,
  "hasDongwuTiger": false,
  "events": {
    "acceptChallenge": false,
    "signMilitaryOrder": false,
    "convinceLuSu": false,
    "borrowArrows": false
  },
  "triggeredEvents": [
    "dialogue_event2"
  ],
  "activeNPCs": [
    "zhouYu",
    "luSu"
  ],
  "preparationProgress": 0
}
stateManager.js:234 é“å…·å˜åŒ–: militaryOrder = true
main.js:202 
=== æ¸¸æˆå“åº”å¤„ç† ===
main.js:203 å“åº”æ•°æ®: {narrative: 'å†›å¸å†…çƒ›ç«æ‘‡æ›³ï¼Œå‘¨ç‘œå¬é—»è¯¸è‘›äº®ç«Ÿå¦‚æ­¤çˆ½å¿«åœ°åº”ä¸‹è¿™å‡ ä¹ä¸å¯èƒ½å®Œæˆçš„ä»»åŠ¡ï¼Œçœ¼ä¸­é—ªè¿‡ä¸€ä¸è®¶å¼‚ä¸æ›´æ·±æ²‰çš„ç®—è®¡â€¦åœ¨æ¡ˆå‡ ä¸Šç¼“ç¼“å±•å¼€ï¼Œå¢¨è¿¹æœªå¹²çš„å­—è¿¹åœ¨ç«å…‰ä¸‹æ˜¾å¾—æ ¼å¤–åˆºç›®ã€‚å¸å¤–åŒ—é£å‘¼å•¸ï¼Œä»¿ä½›é¢„ç¤ºç€è¿™åœºèµŒå±€èƒŒåçš„å‡¶é™©ã€‚', npc_dialogue: {â€¦}, value_changes: {â€¦}, event_suggestion: {â€¦}, item_grant: {â€¦},Â â€¦}
main.js:204 autoEventså­—æ®µ: [{â€¦}]
main.js:205 autoEventsé•¿åº¦: 1
main.js:221 
=== Main æ£€æµ‹åˆ°æ•°å€¼å˜åŒ–ï¼Œæ›´æ–°UI ===
uiManager.js:102 
=== UIManager æ›´æ–°çŠ¶æ€æ  ===
uiManager.js:104 å½“å‰çŠ¶æ€: {chapter: 1, chapterName: 'ä¸‰æ—¥ä¹‹çº¦', timeProgress: 1, zhouYu: {â€¦}, luSu: {â€¦},Â â€¦}
uiManager.js:113 æ›´æ–°çŒœå¿Œå€¼: 50
uiManager.js:120 æ›´æ–°ä¿¡ä»»å€¼: 50
uiManager.js:173 æ›´æ–°æ—¶é—´è¿›åº¦: ç¬¬1æ—¥
uiManager.js:180 çŠ¶æ€æ æ›´æ–°å®Œæˆ
main.js:308 
=== Main æ˜¾ç¤ºæ•°å€¼å˜åŒ–åŠ¨ç”» ===
main.js:309 æ—§çŠ¶æ€: {chapter: 1, chapterName: 'ä¸‰æ—¥ä¹‹çº¦', timeProgress: 1, zhouYu: {â€¦}, luSu: {â€¦},Â â€¦}
main.js:310 æ–°çŠ¶æ€: {chapter: 1, chapterName: 'ä¸‰æ—¥ä¹‹çº¦', timeProgress: 1, zhouYu: {â€¦}, luSu: {â€¦},Â â€¦}
main.js:319 çŒœå¿Œå€¼å˜åŒ–: 50 -> 50 (0)
main.js:327 ä¿¡ä»»å€¼å˜åŒ–: 50 -> 50 (0)
main.js:380 æ—¶é—´è¿›åº¦å˜åŒ–: 1 -> 1 (0)
main.js:386 è°ƒç”¨updateGameInfo
main.js:231 æ•°å€¼å˜åŒ–è¯¦æƒ…: {å‘¨ç‘œ: {â€¦}}
main.js:236 å¤„ç†é“å…·è·å¾—é€šçŸ¥: [{â€¦}]
main.js:239 æ˜¾ç¤ºé“å…·è·å¾—å¼¹çª—: å†›ä»¤çŠ¶
main.js:250 ğŸ¯ å¤„ç†autoEvents: [{â€¦}]
main.js:252 ğŸ¯ å¤„ç†äº‹ä»¶ 1: {name: 'dialogue_event2', reason: 'ç©å®¶å·²æ˜ç¡®æ¥å—æŒ‘æˆ˜å¹¶è¡¨æ€ç«‹å†›ä»¤çŠ¶', trigger: true, id: 'dialogue_event2', title: 'ç«‹ä¸‹å†›ä»¤',Â â€¦} ç±»å‹: dialo