# 草船借箭游戏 - 界面组件完整文档

## 📋 文档说明
此文档记录了游戏中所有的二级窗口、模态框、弹窗和组件，用于确保UI统一性和防止开发遗漏。

**设计原则：**
- 16:9竖屏布局，限制在450px最大宽度内
- 极简黑白灰配色：白色背景、灰色文字、黑色交互元素
- 统一的8px圆角、1px边框、极简按钮样式
- 所有弹窗使用 `position: absolute` 限制在游戏容器内

---

## 🎮 主界面组件

### 1. 游戏容器 (Game Container)
- **文件位置**: `index.html`, `css/style.css`
- **类名**: `.game-container`
- **状态**: ✅ 已统一
- **描述**: 16:9竖屏主容器，450px最大宽度

### 2. 标题头部 (Header)
- **文件位置**: `index.html`, `css/style.css`
- **元素**: `header h1`
- **状态**: ✅ 已统一
- **描述**: 游戏标题，极简字体

### 3. 状态栏 (Status Bar)
- **文件位置**: `index.html`, `css/style.css`
- **ID**: `#status-bar`
- **状态**: ✅ 已统一
- **描述**: 显示游戏数值，网格布局，白底灰边框卡片

### 4. 角色头像区 (Character Avatars)
- **文件位置**: `index.html`, `css/style.css`
- **ID**: `#character-avatars`
- **状态**: ⚠️ 需检查
- **描述**: 4个角色头像，点击显示角色信息

### 5. 对话区域 (Dialogue Area)
- **文件位置**: `index.html`, `css/style.css`
- **ID**: `#dialogue-area`
- **状态**: ✅ 已统一
- **描述**: 主要游戏内容显示区，隐藏滚动条

### 6. 输入区域 (Input Area)
- **文件位置**: `index.html`, `css/style.css`
- **ID**: `#input-area`
- **状态**: ✅ 已统一
- **描述**: 输入框 + 道具按钮 + 发送按钮

### 7. 选中道具标签 (Selected Item Tag)
- **文件位置**: `index.html`, `css/style.css`
- **ID**: `#selected-item-tag`
- **状态**: ⚠️ 需检查
- **描述**: 显示已选中道具，带取消按钮

---

## 🪟 二级窗口和模态框

### 1. 道具选择模态框 (Items Modal)
- **文件位置**: `js/main.js`, `css/style.css`
- **类名**: `.items-modal`, `.items-modal-content`
- **状态**: ✅ 已统一
- **功能**: 道具选择和详情查看
- **布局**: 左侧道具列表 + 右侧详情展示
- **尺寸**: 95%宽度，最大420px，80%高度

### 2. 角色信息弹窗 (Character Info Overlay)
- **文件位置**: `js/ui/uiManager.js`, `css/style.css`
- **类名**: `.character-info-overlay`, `.character-info-dialog`
- **状态**: ✅ 已统一
- **功能**: 显示角色详细信息
- **尺寸**: 70%宽度，70%高度

### 3. 事件对话框 (Event Dialog)
- **文件位置**: `js/ui/uiManager.js` (内联样式)
- **类名**: `.event-overlay`, `.event-dialog`
- **状态**: ✅ 已统一
- **功能**: 显示各种游戏事件
- **子类型**:
  - 对话事件 (dialogue_event)
  - 检定事件 (check_event)  
  - 选择事件 (choice_event)
- **尺寸**: 80%宽度，70%最大高度

### 4. 道具获得弹窗 (Item Gained Dialog)
- **文件位置**: `js/ui/uiManager.js` (内联样式)
- **类名**: `.item-gained-overlay`, `.item-gained-dialog`
- **状态**: ✅ 已统一
- **功能**: 显示获得新道具通知
- **尺寸**: 85%宽度，最大300px

### 5. 章节转换弹窗 (Chapter Transition)
- **文件位置**: `js/ui/uiManager.js` (内联样式)
- **类名**: `.chapter-transition-overlay`
- **状态**: ✅ 已统一
- **功能**: 章节切换动画和信息
- **尺寸**: 最大320px宽度

### 6. 确认对话框 (Confirm Dialog)
- **文件位置**: `js/ui/uiManager.js`, `css/style.css`
- **类名**: `.dialog-overlay`, `.confirm-dialog`
- **状态**: ✅ 已统一
- **功能**: 确认操作弹窗
- **尺寸**: 60%宽度，最大300px

### 7. 加载屏幕 (Loading Screen)
- **文件位置**: `index.html`, `css/style.css`
- **ID**: `#loading`
- **状态**: ⚠️ 需检查
- **功能**: AI思考中显示

---

## 🎨 UI组件细分

### 按钮组件
- **主要按钮**: `.modal-btn.primary` - 黑底白字
- **次要按钮**: `.modal-btn.secondary` - 白底黑字
- **道具按钮**: `#items-btn` - ⚠️ 需检查
- **发送按钮**: `#send-btn` - ⚠️ 需检查
- **取消按钮**: `.cancel-item-btn` - ⚠️ 需检查

### 卡片组件
- **状态卡片**: `.status-item` - 白底灰边框
- **道具卡片**: `.item-card` - 白底，选中时灰底
- **对话消息**: `.dialogue-message` - ⚠️ 需检查各类型
- **详情卡片**: `.item-detail-info` - 浅灰底

### 交互元素
- **关闭按钮**: 各种模态框的 `×` 按钮
- **头像按钮**: `.character-avatar` - ⚠️ 需检查渐变背景
- **事件选择按钮**: 事件弹窗中的选择按钮

---

## ✅ 已完成检查和修复

### 已修复的组件：

1. **角色信息框宽度问题** ✅ - 从70%改为90%，最大320px
2. **角色头像渐变背景** ✅ - 移除蓝紫色渐变，改为浅灰底+灰边框
3. **对话消息样式** ✅ - 移除蓝色/绿色背景，统一为灰色系
4. **按钮颜色** ✅ - 发送按钮改为黑底，道具按钮改为浅灰底
5. **加载动画** ✅ - 移除白色动画，改为灰色loading转圈
6. **选中道具标签** ✅ - 移除绿色背景/边框，改为浅灰系
7. **AI思考气泡** ✅ - 移除蓝色背景，改为浅灰底
8. **角色信息弹窗内部样式** ✅ - 移除所有棕色/蓝色/紫色元素

### 已验证的功能：
1. ✅ 所有弹窗都限制在16:9框架内（使用absolute定位）
2. ✅ 滚动条都已隐藏
3. ✅ 字体大小统一为0.8-1.2em范围
4. ✅ 按钮尺寸适合触摸操作

---

## 📱 响应式设计规范

### 断点设置：
- **手机**: ≤ 480px
- **中等屏幕**: 481px - 768px  
- **主容器**: 最大450px宽度

### 通用尺寸规范：
- **边框**: 1px solid #ccc / #dee2e6
- **圆角**: 4px-8px
- **间距**: 8px, 12px, 16px, 20px
- **字体**: 系统字体，0.8em-1.3em
- **阴影**: 0 4px 8px rgba(0,0,0,0.2)

---

## 🔄 更新记录

- **2024-12-19**: 创建文档，统一了主要模态框样式
- **2024-12-19**: 完成所有组件检查，移除所有彩色元素，实现完全极简黑白灰设计
- **✅ 已完成**: 检查并统一了所有界面元素，无遗漏项目

---

**备注**: 此文档将作为后续开发和维护的参考标准，确保所有界面元素保持一致的极简设计风格。